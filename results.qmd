# Results
  In this section, we present evidence of gendered cost burdens using Consumer Expenditure Survey (CES) for single males and females from 2009-2019, supplemented by healthcare data by gender and student survey data. Our results reveal consistent patterns in gendered spending and several noteworthy divergences in individual years and expenditure groups. Altogether, these patterns hint at ways gender shapes financial burdens across essential and discretionary spending categories.

Our first set of analyses compared total expenditures across major spending categories for single male and females in the 2009-2019 CES data. We specifically chose this time range as it was between the Great Recession and COVID-19, two events that play a strong influence on consumer spending and financial stability. We first wanted to get a high level picture of spending differences. 

## Cost Burden by Gender 


## Healthcare Cost Burden

We noticed that healthcare spending always had positive values for the spending gap and since healthcare spending is inevitable, it makes it an uncontrollable burden, which is why we wanted to delve deeper into the healthcare cost burden by gender. 

Firstly, to visualize if there was a cost burden on the healthcare spending, we used CMS.gov’s Total per-capita Health Expenditure by Age and Sex dataset (including Medicare, Medicaid, Private Health Insurance, and Out of pocket) to plot horizontal bar charts faceted over years using the difference in values (Female - Males). We found that most of the bars were positive for all the age groups except for 65-84, and 0-18. This means that most women have been spending more than men for years. 


```{r}

library(readxl)
library(dplyr)
library(tidyr)
library(ggplot2)

file_path <- "datasets/healthcare_spendings.xlsx"

target_groups <- c("0-18","19-44","45-64","65-84","85+")
years <- c("2002","2004","2006","2008","2010","2012","2014","2016","2018","2020")

# ---------- READ TABLE 7 ----------
df7 <- read_excel(file_path, sheet = "Table 7", skip = 3)

# KEEP ONLY LEVELS (dollars) COLUMNS (first 11 columns only)
df7 <- df7[, 1:11]

names(df7)[1] <- "AgeGroup"

# FIX numeric columns (remove commas)
df7[2:11] <- lapply(df7[2:11], function(x) as.numeric(gsub(",", "", x)))

# ---------- EXTRACT MALE & FEMALE BLOCKS (exact positions) ----------
male_start7   <- which(df7$AgeGroup == "Males")    # row 13
female_start7 <- which(df7$AgeGroup == "Females")  # row 21

male_block7   <- df7[(male_start7+1):(male_start7+7), ]
female_block7 <- df7[(female_start7+1):(female_start7+7), ]

# Filter desired age groups ONLY
male_clean7 <- male_block7 |>
  filter(AgeGroup %in% target_groups)

female_clean7 <- female_block7 |>
  filter(AgeGroup %in% target_groups)

# Ensure same order
male_clean7$AgeGroup <- factor(male_clean7$AgeGroup, levels = target_groups)
female_clean7$AgeGroup <- factor(female_clean7$AgeGroup, levels = target_groups)

# ---------- PIVOT TO LONG ----------
male_long7 <- male_clean7 |>
  pivot_longer(all_of(years), names_to = "Year", values_to = "Male")

female_long7 <- female_clean7 |>
  pivot_longer(all_of(years), names_to = "Year", values_to = "Female")

df_long7 <- male_long7 |>
  left_join(female_long7, by = c("AgeGroup","Year")) |>
  mutate(
    Year = as.integer(Year),
    Gap = Female - Male
  )

# df7_long must contain: AgeGroup, Year, Male, Female, Gap
df7_gapplot <- df_long7 |>
  mutate(FemaleAdj = Female - Male) |>
  distinct(AgeGroup, Year, .keep_all = TRUE)

library(scales)

ggplot(df7_gapplot, aes(y = AgeGroup)) +
  geom_col(aes(x = FemaleAdj), fill = "#6baed6", alpha = 0.8) +
  geom_vline(xintercept = 0, color = "black", linewidth = 1) +
  facet_wrap(~Year, ncol = 5) +
  scale_x_continuous(labels = label_comma()) +
  labs(
    title = "Gender Difference in Total Per-Capita Health Care Spending",
    subtitle = "Female − Male spending \nBars to the right of zero show where women spend more.",
    x = "Difference in Spending (USD)",
    y = ""
  ) +
  theme_minimal(base_size = 12) +
  theme(
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank(),
    axis.line.x = element_line(color = "black", linewidth = 1),
    axis.ticks.x = element_line(color = "black"),
    strip.text = element_text(face = "bold"),
    legend.position = "none"
  )
 # theme(axis.text.x = element_text(angle = 90, hjust = 1))
```

To summarize the spending gap, we used the dumbbell graph which shows the average healthcare cost burden over the span of 18 years. It helped us see how high the gap was for the age group 85+ and 19-44 on average

```{r}

df_avg7 <- df_long7 |>
  group_by(AgeGroup) |>
  summarise(
    AvgMale = mean(Male, na.rm = TRUE),
    AvgFemale = mean(Female, na.rm = TRUE)
  )

df_avg7_long <- df_avg7 |>
  tidyr::pivot_longer(
    cols = c(AvgMale, AvgFemale),
    names_to = "Sex",
    values_to = "AvgSpend"
  ) |>
  mutate(
    Sex = recode(Sex,
                 "AvgMale" = "Male",
                 "AvgFemale" = "Female")
  )



ggplot(df_avg7_long, aes(y = AgeGroup, x = AvgSpend, color = Sex)) +

  geom_segment(
    data = df_avg7,
    aes(x = AvgMale, xend = AvgFemale,
        y = AgeGroup, yend = AgeGroup),
    color = "gray70", linewidth = 2
  ) +

  geom_point(size = 5) +

  scale_color_manual(
    values = c("Male" = "#3182bd", "Female" = "#cb181d"),
    name = "Sex"
  ) +

  scale_x_continuous(labels = label_comma()) +

  labs(
    title = "Average total per-capita health care spending, 2002–2020",
    subtitle = "(Medicare, Medicaid, Private Health Insurance, and Out-of-pocket)",
    x = "Average Spending (USD)",
    y = ""
  ) +
  theme_minimal(base_size = 14) +
  theme(
    axis.line.x = element_line(color = "black"),
    axis.ticks.x = element_line(color = "black"),
    legend.position = "right"
  )
```


  Since the above two graphs included insurance and out-of-pocket data, it left room for some questions like how much the burden is when there is no support. To help us understand this, we use the Out-of-pocket spending data from the same website. 

  We used a line chart to plot the spending gap (Female − Male per-capita out-of-pocket spending), which showed all the values were positive. Upon hovering over the line, we could also see the exact amount difference that year. Except for the age group 0-18, which mostly includes children dependent on parents/guardians, the graphs showed positive lines for all age groups. The values fluctuate throughout the span of 18 years, but never go below zero, which means there has been a healthcare cost burden on women for a long period of time.



```{r}
library(ggplot2)
library(dplyr)
library(scales)

# ---------- READ TABLE 7-1 ---------- 

df71 <- read_excel(file_path, 
                   sheet = "Table 7-1", skip = 3) 

# KEEP ONLY LEVELS (dollars) COLUMNS 

df71 <- df71[, 1:11] 

names(df71)[1] <- "AgeGroup" 

# FIX numeric columns 
df71[2:11] <- lapply(df71[2:11], 
          function(x) as.numeric(gsub(",", "", x))) 

# ---------- EXTRACT BLOCKS ---------- 

male_start71 <- which(df71$AgeGroup == "Males")
female_start71 <- which(df71$AgeGroup == "Females")
male_block71 <- df71[(male_start71+1):(male_start71+7), ] 
female_block71 <- df71[(female_start71+1):(female_start71+7), ] 

# ---------- CLEAN DATA ---------- 

male_clean71 <- male_block71 |> 
  filter(AgeGroup %in% target_groups) 

female_clean71 <- female_block71 |> 
  filter(AgeGroup %in% target_groups)

male_clean71$AgeGroup <- factor(male_clean71$AgeGroup, 
                                levels = target_groups) 

female_clean71$AgeGroup <- factor(female_clean71$AgeGroup, 
                                  levels = target_groups) 

# ---------- LONG FORMAT ---------- 

male_long71 <- male_clean71 |> 
  pivot_longer(all_of(years), 
               names_to = "Year", 
               values_to = "Male") 

female_long71 <- female_clean71 |> 
  pivot_longer(all_of(years), 
               names_to = "Year", 
               values_to = "Female") 

df_long71 <- male_long71 |> 
  left_join(female_long71, by = c("AgeGroup","Year")) |> 
  mutate( Year = as.integer(Year), Gap = Female - Male ) 

library(plotly)
# ===============================
# 1. Compute GAP (Female - Male)
# ===============================

df_gap_7_1 <- df_long71 |>
  mutate(Gap = Female - Male)


# ===============================
# 2. Interactive Gender Gap Plot
# ===============================

p <- ggplot(df_gap_7_1, aes(x = Year, y = Gap, color = AgeGroup)) +
  geom_line(linewidth = 1.3) +
  geom_point(size = 2) +
  geom_hline(yintercept = 0, color = "black", linewidth = 1) +
  scale_x_continuous(
    breaks = unique(df_gap_7_1$Year),     # ensures 2002, 2004, ..., 2020 appear
    limits = range(df_gap_7_1$Year)       # prevents plotly from shifting to 0
  ) +
  labs(
    title = "Out-of-Pocket Spending Gender Gap Over Time",
    subtitle = "Values represent Female − Male per-capita out-of-pocket spending",
    x = "Year",
    y = "Gap (USD)",
    color = "Age Group"
  ) +
  theme_minimal(base_size = 14) +
  theme(
    panel.grid.minor = element_blank(),
    legend.position = "right"
  )

ggplotly(p)

```


To summarize the burden and the spending gap, we used the dumbbell graph. The dots representing average female spending are ahead of those for average male spending across all age groups over the 18-year span, which tells us that women have had to spend more out of pocket over the years. 


```{r}



# ---------- AVERAGE SPENDING ---------- 

df_avg71 <- df_long71 |> 
  group_by(AgeGroup) |> 
  summarise( AvgMale = mean(Male, na.rm = TRUE), 
             AvgFemale = mean(Female, na.rm = TRUE) )

# Create long format with Sex column for easy legend
df_avg71_long <- df_avg71 |>
  tidyr::pivot_longer(
    cols = c(AvgMale, AvgFemale),
    names_to = "Sex",
    values_to = "AvgSpend"
  ) |>
  mutate(
    Sex = recode(Sex,
                 "AvgMale" = "Male",
                 "AvgFemale" = "Female")
  )

ggplot(df_avg71_long, aes(y = AgeGroup, x = AvgSpend, color = Sex)) +

  # Dumbbell connecting segment
  geom_segment(
    data = df_avg71,
    aes(x = AvgMale, xend = AvgFemale,
        y = AgeGroup, yend = AgeGroup),
    color = "gray70", linewidth = 2
  ) +

  # Points for each sex
  geom_point(size = 5) +

  # Nice legend colors
  scale_color_manual(
    values = c("Male" = "#3182bd", "Female" = "#cb181d"),
    name = "Sex"
  ) +

  scale_x_continuous(labels = label_comma()) +

  labs(
    title = "Average per-capita out-of-pocket spending, 2002–2020",
    subtitle = "Women Consistently Pay More Out-of-Pocket at Every Age",
    x = "Average Spending (USD)",
    y = ""
  ) +
  theme_minimal(base_size = 14) +
  theme(
    axis.line.x = element_line(color = "black"),
    axis.ticks.x = element_line(color = "black"),
    legend.position = "right"
  )

```

We noticed a pattern in the spending gap in all the graphs; it was the highest in the age group 85+ and the second highest in the age group 19-44. 

For the age group 85+, we noticed the spending gap is extreme. This could be because of the higher life expectancy of women as compared to men. (Zarulli V et al, 2018). Even though this is a per-capita data, we think the men who exist in this dataset show “survival bias,” which means because women live longer, the men who survived for this age group are already healthy or need less medical support. 

The other age group that showed a high spending gap was 19-44, which made us question whether the 19-44 gap had something to do with the “biological clock” and the evolutionary expectation from women to reproduce. With the help of CDC’s Natality data, we were able to visualize that most women give birth between the ages of 20 and 34, while the age groups 15-19 and 40-44 show significant birth counts. This age range is consistent with the 19-44 category we see in both out-of-pocket and total health care spending graphs, where the spending gap is high.


```{r}


library(readr)
library(dplyr)
library(ggplot2)

b1 <- read_csv("datasets/Natality_2003_2006.csv")
b2 <- read_csv("datasets/Natality_2007_2024.csv")

births_raw <- bind_rows(b1, b2)

#cleaning
births_clean <- births_raw |>
  select(Age = `Age of Mother 9`, Births) |>
  filter(!is.na(Age), Age != "Total") |>
  
  # CLEAN & SHORTEN AGE LABELS
  mutate(
    Age = trimws(Age),
    Age = recode(Age,
      "Under 15 years"      = "<15",
      "15-19 years"         = "15-19",
      "20-24 years"         = "20-24",
      "25-29 years"         = "25-29",
      "30-34 years"         = "30-34",
      "35-39 years"         = "35-39",
      "40-44 years"         = "40-44",
      "45-49 years"         = "45-49",
      "50 years and over"   = "50<"
    )
  ) |>
  group_by(Age) |>
  summarise(Births = sum(Births, na.rm = TRUE)) |>
  ungroup() |>
  mutate(
    Age = factor(
      Age,
      levels = c("<15","15-19","20-24","25-29","30-34",
                 "35-39","40-44","45-49","50<")
    )
  )


ggplot(births_clean, aes(x = Age, y = Births)) +
  geom_col(fill = "darkgreen", alpha = 0.7) +
  scale_y_continuous(labels = function(x) paste0(x / 1e6, "M")) +
  labs(
    title = "U.S. Birth Counts by Maternal Age (2003–2024)",
    x = "Maternal Age Group",
    y = "Total Births"
  ) +
  theme_minimal(base_size = 16)
```



  To further analyse the cost burden on women, we decided to see if it holds true for a small dataset. We wanted to see if there is a gendered cost burden midst people in similar situations. In our case, it was the fall 2025 cohort of data science graduate students at columbia university. Our survey received 31 responses are graphed below. 


```{r}

library(readxl)
library(dplyr)
library(tidyr)
library(stringr)
library(janitor)

# ==============================
# 1. LOAD RAW SURVEY DATA
# ==============================

df_raw <- read_excel("datasets/response.xlsx") |>
  janitor::clean_names()

# ==============================
# 2. RENAME COLUMNS (clean + short)
# ==============================

df <- df_raw |>
  rename(
    employed    = are_you_currently_employed_while_in_school,
    hygiene     = in_a_typical_month_approximately_how_much_do_you_spend_if_anything_on_toiletries_personal_care_items_medications_otc_or_prescribed_and_grooming_services_examples_razors_shampoo_skincare_makeup_deodorant_prescriptions_otc_meds_haircuts_waxing_nail_care_menstrual_hygiene_products_etc,
    apparel     = approximately_how_much_do_you_spend_per_month_on_apparel_and_accessories_if_anything_examples_clothing_shoes_jewelry_bags_seasonal_items,
    gender      = gender_identity,
    rent        = monthly_rent_your_personal_share,
    proxCampus  = what_factors_influenced_your_choice_of_where_you_currently_live_rank_from_highest_to_lowest_priority_proximity_to_campus,
    proxTransit = what_factors_influenced_your_choice_of_where_you_currently_live_rank_from_highest_to_lowest_priority_proximity_to_public_transportation,
    safer       = what_factors_influenced_your_choice_of_where_you_currently_live_rank_from_highest_to_lowest_priority_safer_neighbourhood,
    security    = what_factors_influenced_your_choice_of_where_you_currently_live_rank_from_highest_to_lowest_priority_building_security_features_eg_cameras_doorman_locks_etc,
    amenitiesB  = what_factors_influenced_your_choice_of_where_you_currently_live_rank_from_highest_to_lowest_priority_building_amenities_eg_gym_elevator_co_working_space,
    amenitiesA  = what_factors_influenced_your_choice_of_where_you_currently_live_rank_from_highest_to_lowest_priority_apartment_amenities_eg_size_in_unit_laundry_appliances
  )

# ==============================
# 3. CLEAN NUMERIC FUNCTIONS
# ==============================

clean_num <- function(x) {
  x |>
    as.character() |>
    (\(z) gsub(",", "", z))() |>
    (\(z) gsub("\\$", "", z))() |>
    (\(z) gsub(" ", "", z))() |>
    (\(z) gsub("[^0-9.]", "", z))() |>
    as.numeric()
}

clean_rent <- function(x) {

  x <- as.character(x)
  x[x == "" | is.na(x)] <- NA

  # Remove $, commas, extra spaces
  x <- gsub("\\$", "", x)
  x <- trimws(x)

  # universal dash: -, –, —, −
  dash_pattern <- "[\u002D\u2013\u2014\u2212]"

  # detect ranges
  is_range <- grepl(dash_pattern, x)

  # midpoint for ranges
  x[is_range] <- sapply(x[is_range], function(v) {
    parts <- unlist(strsplit(v, dash_pattern))
    nums  <- as.numeric(gsub(",", "", parts))
    mean(nums, na.rm = TRUE)
  })

  # convert single values
  x <- as.numeric(gsub(",", "", x))

  return(x)
}

# ==============================
# 4. APPLY CLEANING SAFELY
# ==============================

df_clean <- df |>
  mutate(
    hygiene = clean_num(hygiene),
    apparel = clean_num(apparel),
    rent    = clean_rent(rent)
  )

# ==============================
# 5. RANKING COLUMNS
# ==============================

rank_cols <- c("proxCampus", "proxTransit", "safer",
               "security", "amenitiesB", "amenitiesA")

df_clean <- df_clean |>
  mutate(across(all_of(rank_cols), clean_num))

# ==============================
# 6. LONG FORMAT FOR RANK VISUALS
# ==============================

df_rank_long <- df_clean |>
  select(gender, all_of(rank_cols)) |>
  pivot_longer(
    cols = all_of(rank_cols),
    names_to = "factor",
    values_to = "rank"
  ) |>
  mutate(
    factor = recode(factor,
      proxCampus   = "Proximity to campus",
      proxTransit  = "Public transit access",
      safer        = "Safer neighbourhood",
      security     = "Building security",
      amenitiesB   = "Building amenities",
      amenitiesA   = "Apartment amenities"
    )
  )

# ==============================
# 7. SUMMARY STATISTICS
# ==============================

df_summary <- df_clean |>
  group_by(gender) |>
  summarise(
    median_hygiene = median(hygiene, na.rm = TRUE),
    median_apparel = median(apparel, na.rm = TRUE),
    median_rent    = median(rent, na.rm = TRUE),
    n = n()
  )

```


While apparel and hygiene costs are relatively similar across both genders, we see more extreme outliers in the higher range for women. We also see that there is more variability in rent for females compared to males. These extra outliers in the $2,500-3,000 range suggest that more women may be incentivized to spend extra on rent if it means prioritizing safety. We will take a look at this more in the next plot.


```{r}
library(ggplot2)
library(dplyr)

# Compute average priority rank for each gender + factor
df_bump <- df_rank_long |>
  group_by(gender, factor) |>
  summarise(mean_rank = mean(rank, na.rm = TRUE), .groups = "drop") |>
  group_by(gender) |>
  mutate(priority = rank(mean_rank, ties.method = "first")) |>  # 1 = highest priority
  ungroup()

ggplot(df_bump, aes(x = gender, y = priority, group = factor, color = factor)) +
  geom_line(linewidth = 1.3) +
  geom_point(size = 4) +
  scale_y_reverse(breaks = 1:6) +   # 1 at top
  labs(
    title = "Priority Ranking of Housing Factors by Gender",
    subtitle = "1 = highest priority • 6 = lowest priority",
    x = "Gender",
    y = "Priority Rank",
    color = "Housing Factor"
  ) +
  theme_minimal(base_size = 14) +
  theme(
    legend.position = "right",
    panel.grid.minor = element_blank()
  )
```
Women valuing proximity to campus and neighborhood safety aligns with higher rents. Women may prioritize being closer to school or in safer neighborhoods, even if it’s more expensive, which explains the observed high outliers.

Surprisingly, building security was ranked higher among men. Women may consider neighborhood safety more important than the building’s security features (cameras, doormen), whereas men might feel neighborhood safety is less critical and focus more on tangible security measures.


### Reference

Zarulli V, Barthold Jones J, Oksuzyan A, et al. Women live longer than men even during severe famines and epidemics. Proc Natl Acad Sci U S A. 2018;115(4):E832–E840. doi:10.1073/pnas.1701535115




